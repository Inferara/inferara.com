<svg viewBox="0 0 1000 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for the "before" state - clean, distinct -->
    <radialGradient id="coreGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#4a5568"/>
      <stop offset="100%" stop-color="#2d3748"/>
    </radialGradient>
    
    <!-- Pallet colors - distinct and clean -->
    <linearGradient id="pallet1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#e53e3e"/>
      <stop offset="100%" stop-color="#c53030"/>
    </linearGradient>
    <linearGradient id="pallet2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#dd6b20"/>
      <stop offset="100%" stop-color="#c05621"/>
    </linearGradient>
    <linearGradient id="pallet3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#d69e2e"/>
      <stop offset="100%" stop-color="#b7791f"/>
    </linearGradient>
    <linearGradient id="pallet4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#38a169"/>
      <stop offset="100%" stop-color="#2f855a"/>
    </linearGradient>
    <linearGradient id="pallet5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3182ce"/>
      <stop offset="100%" stop-color="#2b6cb0"/>
    </linearGradient>
    <linearGradient id="pallet6" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#805ad5"/>
      <stop offset="100%" stop-color="#6b46c1"/>
    </linearGradient>
    <linearGradient id="pallet7" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#d53f8c"/>
      <stop offset="100%" stop-color="#b83280"/>
    </linearGradient>
    <linearGradient id="pallet8" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#319795"/>
      <stop offset="100%" stop-color="#2c7a7b"/>
    </linearGradient>
    
    <!-- Blob gradients - murky, blended -->
    <radialGradient id="blobGradient" cx="50%" cy="50%" r="60%">
      <stop offset="0%" stop-color="#4a5568" stop-opacity="0.9"/>
      <stop offset="40%" stop-color="#553c9a" stop-opacity="0.7"/>
      <stop offset="70%" stop-color="#744210" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#2d3748" stop-opacity="0.8"/>
    </radialGradient>
    
    <!-- Filter for blob distortion -->
    <filter id="blobFilter" x="-20%" y="-20%" width="140%" height="140%">
      <feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="3" result="noise"/>
      <feDisplacementMap in="SourceGraphic" in2="noise" scale="15" xChannelSelector="R" yChannelSelector="G"/>
    </filter>
    
    <filter id="blur">
      <feGaussianBlur stdDeviation="2"/>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#718096"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="500" fill="#1a202c"/>
  
  <!-- Title -->
  <text x="500" y="35" text-anchor="middle" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="20" font-weight="bold">
    Anatomy of Polkadot Runtime: Before and After Compilation
  </text>
  
  <!-- LEFT SIDE: Before Compilation -->
  <g transform="translate(200, 260)">
    <!-- Subtitle -->
    <text x="0" y="-185" text-anchor="middle" fill="#a0aec0" font-family="Arial, sans-serif" font-size="14">
      Source code (FRAME + Pallets)
    </text>
    
    <!-- Outer ring segments (pallets) - clean petals -->
    <!-- Pallet 1 -->
    <path d="M 0 -150 A 150 150 0 0 1 106 -106 L 71 -71 A 100 100 0 0 0 0 -100 Z" fill="url(#pallet1)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 2 -->
    <path d="M 106 -106 A 150 150 0 0 1 150 0 L 100 0 A 100 100 0 0 0 71 -71 Z" fill="url(#pallet2)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 3 -->
    <path d="M 150 0 A 150 150 0 0 1 106 106 L 71 71 A 100 100 0 0 0 100 0 Z" fill="url(#pallet3)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 4 -->
    <path d="M 106 106 A 150 150 0 0 1 0 150 L 0 100 A 100 100 0 0 0 71 71 Z" fill="url(#pallet4)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 5 -->
    <path d="M 0 150 A 150 150 0 0 1 -106 106 L -71 71 A 100 100 0 0 0 0 100 Z" fill="url(#pallet5)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 6 -->
    <path d="M -106 106 A 150 150 0 0 1 -150 0 L -100 0 A 100 100 0 0 0 -71 71 Z" fill="url(#pallet6)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 7 -->
    <path d="M -150 0 A 150 150 0 0 1 -106 -106 L -71 -71 A 100 100 0 0 0 -100 0 Z" fill="url(#pallet7)" stroke="#1a202c" stroke-width="2"/>
    <!-- Pallet 8 -->
    <path d="M -106 -106 A 150 150 0 0 1 0 -150 L 0 -100 A 100 100 0 0 0 -71 -71 Z" fill="url(#pallet8)" stroke="#1a202c" stroke-width="2"/>
    
    <!-- Inner ring (more pallets) -->
    <path d="M 0 -100 A 100 100 0 0 1 71 -71 L 35 -35 A 50 50 0 0 0 0 -50 Z" fill="url(#pallet5)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M 71 -71 A 100 100 0 0 1 100 0 L 50 0 A 50 50 0 0 0 35 -35 Z" fill="url(#pallet6)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M 100 0 A 100 100 0 0 1 71 71 L 35 35 A 50 50 0 0 0 50 0 Z" fill="url(#pallet7)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M 71 71 A 100 100 0 0 1 0 100 L 0 50 A 50 50 0 0 0 35 35 Z" fill="url(#pallet8)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M 0 100 A 100 100 0 0 1 -71 71 L -35 35 A 50 50 0 0 0 0 50 Z" fill="url(#pallet1)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M -71 71 A 100 100 0 0 1 -100 0 L -50 0 A 50 50 0 0 0 -35 35 Z" fill="url(#pallet2)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M -100 0 A 100 100 0 0 1 -71 -71 L -35 -35 A 50 50 0 0 0 -50 0 Z" fill="url(#pallet3)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    <path d="M -71 -71 A 100 100 0 0 1 0 -100 L 0 -50 A 50 50 0 0 0 -35 -35 Z" fill="url(#pallet4)" stroke="#1a202c" stroke-width="1.5" opacity="0.9"/>
    
    <!-- Core (FRAME) -->
    <circle cx="0" cy="0" r="50" fill="url(#coreGradient)" stroke="#1a202c" stroke-width="2"/>
    <text x="0" y="5" text-anchor="middle" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="12" font-weight="bold">FRAME</text>
  </g>
  
  <!-- Arrow -->
  <g transform="translate(420, 260)">
    <line x1="0" y1="0" x2="140" y2="0" stroke="#718096" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="70" y="-15" text-anchor="middle" fill="#a0aec0" font-family="Arial, sans-serif" font-size="11">LTO + inlining</text>
    <text x="70" y="25" text-anchor="middle" fill="#718096" font-family="Arial, sans-serif" font-size="9">~2M instructions</text>
  </g>
  
  <!-- RIGHT SIDE: After Compilation -->
  <g transform="translate(800, 260)">
    <!-- Subtitle -->
    <text x="0" y="-185" text-anchor="middle" fill="#a0aec0" font-family="Arial, sans-serif" font-size="14">
      Compiled runtime
    </text>
    
    <!-- Amorphous blob with color zones bleeding into each other -->
    <g filter="url(#blobFilter)">
      <!-- Base blob -->
      <ellipse cx="0" cy="0" rx="155" ry="145" fill="url(#blobGradient)"/>
      
      <!-- Color remnants - distorted and blended -->
      <ellipse cx="-40" cy="-50" rx="60" ry="45" fill="#e53e3e" opacity="0.3" filter="url(#blur)"/>
      <ellipse cx="50" cy="-30" rx="50" ry="55" fill="#dd6b20" opacity="0.25" filter="url(#blur)"/>
      <ellipse cx="60" cy="40" rx="55" ry="40" fill="#d69e2e" opacity="0.3" filter="url(#blur)"/>
      <ellipse cx="0" cy="60" rx="45" ry="50" fill="#38a169" opacity="0.25" filter="url(#blur)"/>
      <ellipse cx="-55" cy="35" rx="50" ry="45" fill="#3182ce" opacity="0.3" filter="url(#blur)"/>
      <ellipse cx="-60" cy="-20" rx="40" ry="50" fill="#805ad5" opacity="0.25" filter="url(#blur)"/>
      <ellipse cx="20" cy="-60" rx="45" ry="35" fill="#d53f8c" opacity="0.3" filter="url(#blur)"/>
      <ellipse cx="-20" cy="0" rx="55" ry="55" fill="#319795" opacity="0.2" filter="url(#blur)"/>
    </g>
    
    <!-- Sketchy, broken "borders" suggesting former structure -->
    <g stroke="#e2e8f0" stroke-width="0.5" opacity="0.15" fill="none">
      <path d="M -30 -120 Q -20 -80 -45 -40" stroke-dasharray="3,5"/>
      <path d="M 40 -110 Q 60 -70 35 -30" stroke-dasharray="4,6"/>
      <path d="M 100 -50 Q 80 -20 95 30" stroke-dasharray="3,7"/>
      <path d="M 90 70 Q 50 80 30 60" stroke-dasharray="5,4"/>
      <path d="M -20 110 Q -40 80 -60 90" stroke-dasharray="4,5"/>
      <path d="M -110 40 Q -80 20 -90 -20" stroke-dasharray="3,6"/>
      <path d="M -100 -60 Q -70 -80 -50 -100" stroke-dasharray="5,5"/>
    </g>
    
    <!-- Central dispatcher indication -->
    <ellipse cx="0" cy="0" rx="35" ry="30" fill="#2d3748" opacity="0.8" stroke="#4a5568" stroke-width="1" stroke-dasharray="2,2"/>
    <text x="0" y="-5" text-anchor="middle" fill="#a0aec0" font-family="Arial, sans-serif" font-size="7">dispatch()</text>
    <text x="0" y="8" text-anchor="middle" fill="#718096" font-family="Arial, sans-serif" font-size="6">~300k lines</text>
    
    <!-- Question marks indicating lost structure -->
    <text x="-80" y="-80" fill="#718096" font-family="Arial, sans-serif" font-size="16" opacity="0.5">?</text>
    <text x="90" y="-60" fill="#718096" font-family="Arial, sans-serif" font-size="14" opacity="0.4">?</text>
    <text x="80" y="80" fill="#718096" font-family="Arial, sans-serif" font-size="18" opacity="0.5">?</text>
    <text x="-90" y="70" fill="#718096" font-family="Arial, sans-serif" font-size="15" opacity="0.4">?</text>
  </g>
  
  <!-- Legend -->
  <g transform="translate(50, 440)">
    <rect x="0" y="0" width="12" height="12" fill="url(#coreGradient)" stroke="#1a202c"/>
    <text x="18" y="10" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10">FRAME infrastructure</text>
    
    <rect x="150" y="0" width="12" height="12" fill="url(#pallet1)"/>
    <rect x="165" y="0" width="12" height="12" fill="url(#pallet3)"/>
    <rect x="180" y="0" width="12" height="12" fill="url(#pallet5)"/>
    <rect x="195" y="0" width="12" height="12" fill="url(#pallet7)"/>
    <text x="213" y="10" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10">Pallets (modules)</text>
    
    <line x1="540" y1="6" x2="570" y2="6" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="3,3" opacity="0.3"/>
    <text x="578" y="10" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10">Blurry/lost boundaries</text>
    
    <text x="750" y="10" fill="#718096" font-family="Arial, sans-serif" font-size="14">?</text>
    <text x="768" y="10" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10">Undefined belonging</text>
  </g>
  
  <!-- Footer note -->
  <text x="500" y="485" text-anchor="middle" fill="#4a5568" font-family="Arial, sans-serif" font-size="9" font-style="italic">
    
    Structural boundaries between modules are completely erased by aggressive optimization during compilation
  </text>
</svg>